# RALPH-AGI Configuration
# This file configures the Ralph Loop Engine behavior.
# All values have sensible defaults - only override what you need.

# Maximum iterations before forced exit
# Set to 0 to disable (not recommended)
max_iterations: 100

# String that signals task completion
# When detected in LLM output, the loop exits successfully
completion_promise: "<promise>COMPLETE</promise>"

# Iterations between state checkpoints
# Lower = more frequent saves, higher = better performance
checkpoint_interval: 1

# Retry configuration for failed iterations
max_retries: 3
retry_delays: [1, 2, 4] # Exponential backoff in seconds

# Optional: Log file path (logs to console only if not set)
# log_file: "ralph-agi.log"

# Optional: Checkpoint file for AFK mode (saves state on interrupt)
# checkpoint_path: "checkpoint.json"

# LLM Configuration
# Controls which AI providers and models are used
llm:
  # Builder agent (does the actual coding work)
  builder_provider: "openai"  # anthropic, openai, or openrouter
  builder_model: "gpt-4o-mini"

  # Critic agent (reviews the builder's work)
  critic_provider: "openai"
  critic_model: "gpt-4o"
  critic_enabled: true

  # Token limits
  max_tokens: 4096
  temperature: 0.0

  # Tool loop settings
  max_tool_iterations: 10
  rate_limit_retries: 3

# Git Workflow Configuration
# Controls how RALPH manages git operations
git:
  # Workflow mode:
  #   - direct: Commit anywhere (risky, for solo dev only)
  #   - branch: Create feature branches, push branches (default)
  #   - pr: Create feature branches, push, and create PRs via gh CLI
  workflow: "branch"

  # Branches that cannot be committed to directly in branch/pr mode
  protected_branches:
    - main
    - master

  # Prefix for auto-created feature branches
  branch_prefix: "ralph/"

  # Whether to automatically push after committing
  auto_push: true
